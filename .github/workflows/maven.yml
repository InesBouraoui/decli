```yaml
name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

env:
  DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
  BACKEND_IMAGE: myapp/springboot-backend
  FRONTEND_IMAGE: myapp/angular-frontend
  VPS_HOST: ${{ secrets.VPS_HOST }}
  VPS_USER: ${{ secrets.VPS_USER }}

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Set up JDK 17
      uses: actions/setup-java@v4
      with:
        java-version: '17'
        distribution: 'temurin'
        
    - name: Set up Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        
    - name: Cache Node modules
      uses: actions/cache@v3
      with:
        path: node_modules
        key: ${{ runner.os }}-node-${{ hashFiles('package-lock.json') }}
        restore-keys: |
          ${{ runner.os }}-node-
          
    - name: Cache Maven packages
      uses: actions/cache@v3
      with:
        path: ~/.m2
        key: ${{ runner.os }}-maven-${{ hashFiles('pom.xml') }}
        restore-keys: |
          ${{ runner.os }}-maven-
    
    - name: Backend tests simulation
      run: |
        echo "Running Spring Boot backend tests..."
        # Simulating Maven test execution
        # In real scenario: ./mvnw test -B
        
    - name: Frontend tests simulation
      run: |
        echo "Running Angular frontend tests..."
        # Simulating npm test execution
        # In real scenario: npm test -- --watch=false --browsers=ChromeHeadless
        
    - name: Frontend lint simulation
      run: |
        echo "Running Angular linting..."
        # Simulating linting process
        # In real scenario: npm run lint
        
    - name: Frontend build simulation
      run: |
        echo "Building Angular application..."
        # Simulating build process
        # In real scenario: npm run build

  build-and-push:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@v3
      
    - name: Login to DockerHub
      uses: docker/login-action@v3
      with:
        username: ${{ secrets.DOCKERHUB_USERNAME }}
        password: ${{ secrets.DOCKERHUB_TOKEN }}
        
    - name: Build backend Docker image simulation
      run: |
        echo "Building Spring Boot backend Docker image..."
        # Simulating Docker build process
        # In real scenario: docker build -t $IMAGE_NAME .
        
    - name: Build frontend Docker image simulation
      run: |
        echo "Building Angular frontend Docker image..."
        # Simulating Docker build process
        # In real scenario: docker build -t $IMAGE_NAME .
        
    - name: Push backend image simulation
      run: |
        echo "Pushing backend image to DockerHub..."
        # Simulating Docker push
        # In real scenario: docker push $IMAGE_NAME
        
    - name: Push frontend image simulation
      run: |
        echo "Pushing frontend image to DockerHub..."
        # Simulating Docker push
        # In real scenario: docker push $IMAGE_NAME

  deploy:
    needs: build-and-push
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - name: Deploy to VPS simulation
      run: |
        echo "Starting deployment to VPS..."
        echo "Pulling latest Docker images..."
        echo "Stopping existing containers..."
        echo "Starting new containers..."
        echo "Running database migrations..."
        echo "Performing health checks..."
        # All deployment steps simulated without actual execution

  post-deployment-tests:
    needs: deploy
    runs-on: ubuntu-latest
    
    steps:
    - name: Run API tests simulation
      run: |
        echo "Running post-deployment API tests..."
        # Simulating API test execution
        
    - name: Run E2E tests simulation
      run: |
        echo "Running E2E tests..."
        # Simulating E2E test execution
        
    - name: Performance tests simulation
      run: |
        echo "Running performance tests..."
        # Simulating performance test execution
        
    - name: Final health check simulation
      run: |
        echo "Performing final health checks..."
        echo "âœ… All systems operational"
        echo "ðŸš€ Deployment completed successfully!"
```
